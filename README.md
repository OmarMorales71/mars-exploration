
---

# ğŸª Mars Exploration Multi-Agent System (MAS)

This project implements a **Multi-Agent System (MAS)** for autonomous mission planning on Mars.
The system coordinates **rovers**, **drones**, and a final **integration agent** to generate a coherent mission strategy from a high-level scientific report.

The MAS is built using **CrewAI**, and is designed to be **modular, deterministic, and extensible**.

---

## ğŸ§  System Overview

The system is organized as a **pipeline of crews**, each responsible for a specific planning phase:

1. **Mission Crew**
   Parses a human-written mission report and produces a structured mission summary.

2. **Rover Crew**
   Computes feasible rover routes and selects one rover per eligible goal.

3. **Drone Crew**
   Computes feasible drone flight plans and selects one drone per eligible goal.

4. **Integration Crew**
   Merges rover and drone plans into a single, human-readable mission strategy.

Each crew operates independently and communicates via structured JSON outputs.

---

## ğŸ—‚ Project Structure

```
src/
â”œâ”€â”€ mars_exploration/
â”‚   â”œâ”€- main.py
â”‚   â”œâ”€â”€ crews/
â”‚   â”‚   â”œâ”€â”€ mission_crew/
â”‚   â”‚   â”œâ”€â”€ rover_crew/
â”‚   â”‚   â”œâ”€â”€ drone_crew/
â”‚   â”‚   â””â”€â”€ integration_crew/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ mission_spec.py
â”‚   â”‚   â”œâ”€â”€ rover_models.py
â”‚   â”‚   â””â”€â”€ drone_models.py
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ rovers_path_tool.py
â”‚   â”‚   â”œâ”€â”€ commmon_tools.py
â”‚   â”‚   â””â”€â”€ drones_path_tool.py
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â”œâ”€â”€ mission_report.md
â”‚   â”‚   â”œâ”€â”€ mars_terrain.graphml
â”‚   â”‚   â”œâ”€â”€ rovers.json
â”‚   â”‚   â””â”€â”€ drones.json
â”‚   â”œâ”€â”€ intermediate/ # All the outputs generated by the crews
â”‚   â””â”€â”€ output/ # Final mission strategy
â”œâ”€â”€ commons/
â”‚   â”œâ”€â”€ llm.py
```

---

## â–¶ï¸ How to Run

### 1ï¸âƒ£ Install dependencies

```bash
pip install uv

pip install -r requirements.txt

crewai install
```

Make sure you are using **Python 3.10+**.

---

### 2ï¸âƒ£ Prepare input files

Required input files (in `data/input/`):

| File                   | Description                       |
| ---------------------- | --------------------------------- |
| `mission_report.md`    | Human-written mission description |
| `mars_terrain.graphml` | Mars terrain graph                |
| `rovers.json`          | Rover specifications              |
| `drones.json`          | Drone specifications              |

---

### 3ï¸âƒ£ Provide LLM 

Create a .env file and provide your LLM information.

Example 

```bash
LLM_PROVIDER=ollama
LLM_BASE_URL=http://localhost:11434
LLM_MODEL=llama3.1
```

If your LLM information is equal, you can skip this step because these are the default values. 

### 4ï¸âƒ£ Run the system

```bash
crewai run
```

---

## ğŸ“¥ Input Description

### Mission Report (`mission_report.md`)

Written in Markdown and includes:

* Scientific goals
* Priorities
* Operational constraints
* Known hazards

Example in src/mars_exploration/data/input/mission_report.md

---

### Rovers (`rovers.json`)

Defines rover capabilities:

* Terrain support
* Energy capacity
* Speed
* Starting location

Example in src/mars_exploration/data/input/rovers.json

---

### Drones (`drones.json`)

Defines drone capabilities:

* Flight range (time-based)
* Altitude
* Camera resolution
* Starting location

Example in src/mars_exploration/data/input/drones.json|

### Mars Terrain (`mars_terrain.graphml`)

Defines mars terrain map:

* Nodes
* Edges
* Terrain

src/mars_exploration/data/input/mars_terrain.graphml

---

## ğŸ›  Custom Tools

### ğŸš— `rovers_path_tool`

* Computes round-trip rover routes using Dijkstra
* Considers:

  * Terrain compatibility
  * Terrain weights
  * Energy usage
  * Prohibited nodes
* Outputs feasible rover candidates per goal

---

### ğŸš `drones_path_tool`

* Computes drone flight feasibility
* Considers:

  * Time limits
  * Terrain weights
  * Hazard-based prohibited nodes
* Outputs feasible drone candidates per goal

---

### ğŸš `split_goals_tool`

* Helps selector agents to know which goals can be completed.

---

### ğŸ¤œğŸ¤› Crews

## ğŸ§ª Mission Crew

The Mission Crew:

* Extracts scientific goals from the mission report
* Identifies operational constraints and environmental hazards
* Normalizes priorities and terrain descriptions
* Produces a structured mission summary for downstream planning

---

## ğŸšœ Rover Crew

The Rover Crew:

* Evaluates ground-based feasibility for each scientific goal
* Computes rover paths using the Mars terrain graph
* Accounts for terrain compatibility, hazards, and energy constraints
* Selects one rover per goal while balancing rover utilization
* Reports goals that cannot be completed by any rover

---

## ğŸš Drone Crew

The Drone Crew:

* Evaluates aerial feasibility for applicable scientific goals
* Computes drone flight paths and required flight time
* Applies range, time, and hazard constraints
* Selects drones to complement rover operations
* Identifies goals that are infeasible for aerial execution

---

## ğŸ§© Integration Crew

The Integration Crew:

* Ensures **each goal is completed by at most one vehicle type**
* Resolves overlaps between rover and drone plans
* Integrates all valid assignments into a unified strategy
* Produces a clear, narrative mission strategy in Markdown

---
## ğŸ¯ Candidate Selection Logic

### Rover & Drone Selection

* Goals processed by **priority** (high â†’ low)
* **Balancing rule**: avoid assigning the same vehicle to all goals
* Tie-breakers:

  * Rovers: lower energy â†’ shorter distance
  * Drones: higher camera â†’ higher altitude â†’ lower time

Failures occur **only when no candidates exist**.

---

## ğŸ“¤ Outputs

### Intermediate Outputs (`data/intermediate/`)

* `mission_crew/mission_crew_output.json`
* `rover_crew/rover_crew_output.json`
* `drone_crew/drone_crew_output.json`

---

### Final Output (`data/output/`)

* Human-readable **Markdown mission strategy**
* Describes:

  * Which vehicle performs each goal
  * Coordination between rovers and drones
  * Failed goals (if any)

---

## ğŸ“Œ Summary

This system demonstrates how **LLM-driven agents + deterministic tools** can work together to solve complex planning problems in a structured, reliable way.

If you have questions or want to extend the system, start by adding a new crew or tool â€” the architecture is designed for it.

---
